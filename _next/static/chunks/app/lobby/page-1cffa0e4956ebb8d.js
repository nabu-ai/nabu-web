(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{925:function(e,a,n){Promise.resolve().then(n.bind(n,5142))},5142:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return h}});var l=n(3827),i=n(4090),t=n(5313);const s=(0,n(7977).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),r={"ar-AE":"Arabic (Gulf)","ca-ES":"Catalan","yue-CN":"Chinese (Cantonese)","cmn-CN":"Chinese (Mandarin)","cs-CZ":"Czech","da-DK":"Danish","nl-BE":"Dutch (Belgian)","nl-NL":"Dutch","en-AU":"English (Australian)","en-GB":"English (British)","en-IN":"English (Indian)","en-NZ":"English (New Zealand)","en-SG":"English (Singaporean)","en-ZA":"English (South African)","en-US":"English (US)","en-GB-WLS":"English (Welsh)","fi-FI":"Finnish","fr-FR":"French","fr-BE":"French (Belgian)","fr-CA":"French (Canadian)","hi-IN":"Hindi","de-DE":"German","de-AT":"German (Austrian)","de-CH":"German (Swiss standard)","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","ko-KR":"Korean","nb-NO":"Norwegian","pl-PL":"Polish","pt-BR":"Portuguese (Brazilian)","pt-PT":"Portuguese (European)","ro-RO":"Romanian","ru-RU":"Russian","es-ES":"Spanish (Spain)","es-MX":"Spanish (Mexican)","es-US":"Spanish (US)","sv-SE":"Swedish","tr-TR":"Turkish","cy-GB":"Welsh"},o={"en-AU":"English (Australian)","en-GB":"English (British)","en-NZ":"English (New Zealand)","en-US":"English (US)","fr-FR":"French","fr-CA":"French (Canadian)","de-DE":"German","it-IT":"Italian","ja-JP":"Japanese","ko-KR":"Korean","pt-BR":"Portuguese (Brazilian)","es-ES":"Spanish (European)","es-US":"Spanish (US)"},m={arb:{female:"Zeina"},"ar-AE":{female:"Hala",male:"Zayd"},"ca-ES":{female:"Arlet"},"cs-CZ":{female:"Jitka"},"cy-GB":{female:"Gwyneth"},"da-DK":{female:"Sofie",male:"Mads"},"de-AT":{female:"Hannah"},"de-CH":{female:"Sabrina"},"de-DE":{female:"Vicki",male:"Daniel"},"en-AU":{female:"Olivia",male:"Russell"},"en-GB":{female:"Amy",male:"Brian"},"en-GB-WLS":{male:"Geraint"},"en-IN":{female:"Kajal"},"en-IE":{female:"Niamh"},"en-NZ":{female:"Aria"},"en-SG":{female:"Jasmine"},"en-US":{female:"Joanna",male:"Matthew"},"en-ZA":{female:"Ayanda"},"es-ES":{female:"Lucia",male:"Sergio"},"es-MX":{female:"Mia",male:"Andr\xe9s"},"es-US":{female:"Lupe",male:"Pedro"},"fi-FI":{female:"Suvi"},"fr-BE":{female:"Isabelle"},"fr-CA":{female:"Gabrielle",male:"Liam"},"fr-FR":{female:"L\xe9a",male:"R\xe9mi"},"hi-IN":{female:"Kajal"},"is-IS":{female:"D\xf3ra",male:"Karl"},"it-IT":{female:"Bianca",male:"Adriano"},"ja-JP":{female:"Kazuha",male:"Takumi"},"ko-KR":{female:"Seoyeon"},"nb-NO":{female:"Ida"},"nl-BE":{female:"Lisa"},"nl-NL":{female:"Laura",male:"Ruben"},"pl-PL":{female:"Ola",male:"Jacek"},"pt-BR":{female:"Camila",male:"Thiago"},"pt-PT":{female:"In\xeas",male:"Cristiano"},"ro-RO":{female:"Carmen"},"ru-RU":{female:"Tatyana",male:"Maxim"},"sv-SE":{female:"Elin"},"tr-TR":{female:"Burcu"},"yue-CN":{female:"Hiujin"},"cmn-CN":{female:"Zhiyu"}},c={"en-US":{male:"en-US_HenryV3Voice",female:"en-US_AllisonV3Voice"},"en-GB":{male:"en-GB_JamesV3Voice",female:"en-GB_KateV3Voice"},"en-AU":{male:"en-AU_JackExpressive",female:"en-AU_HeidiExpressive"},"es-ES":{male:"es-ES_EnriqueV3Voice",female:"es-ES_LauraV3Voice"},"es-LA":{female:"es-LA_SofiaV3Voice"},"es-US":{female:"es-US_SofiaV3Voice"},"fr-FR":{male:"fr-FR_NicolasV3Voice",female:"fr-FR_ReneeV3Voice"},"fr-CA":{female:"fr-CA_LouiseV3Voice"},"de-DE":{male:"de-DE_DieterV3Voice",female:"de-DE_BirgitV3Voice"},"it-IT":{female:"it-IT_FrancescaV3Voice"},"pt-BR":{male:"pt-BR_LucasExpressive",female:"pt-BR_IsabelaV3Voice"},"ja-JP":{female:"ja-JP_EmiV3Voice"},"ko-KR":{female:"ko-KR_JinV3Voice"}};var u=n(4095),f=n(4289);const d=n(4135);function h(){const[e,a]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[x,g]=(0,i.useState)("nabu-test"),[S,b]=(0,i.useState)(!1),[E,v]=(0,i.useState)(!1),[N,j]=(0,i.useState)(""),V=(0,t.useRouter)(),y={"":"Preferred Language",...r,...o},C=u.E.getState().meetingInfo,{prepareStreaming:A}=d;(0,i.useEffect)((()=>{(async()=>{let e=(await Promise.all([n.e(929),n.e(620)]).then(n.t.bind(n,2858,23))).default,a=e.createClient({mode:"rtc",codec:"vp8"});u.E.setState({agoraInstance:e}),u.E.setState({agoraClient:a})})()}),[]);const k=async()=>{const a=await fetch("https://nabu-0390bfe7dc2f.herokuapp.com/api/streaming/token?channel=".concat(x.trim(),"&uid=").concat(e.trim())),{token:n,appId:l}=await a.json();return{token:n,appId:l}};return(0,i.useEffect)((()=>{const e=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c[e];if(n||(n=m[e]),!n)return null;if(!a)return n;const l=n[a.toLowerCase()];if(l)return l;return n.male||n.female||null}(h);b(null===e||void 0===e?void 0:e.male),v(null===e||void 0===e?void 0:e.female)}),[h]),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 px-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-1",children:"Nabu Meeting"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"Enter details to join the meeting"})]}),(0,l.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Your name",className:"h-16 w-full px-4 py-2 border border-black rounded-xl focus:outline-none focus:ring focus:border-blue-500 text-lg"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("select",{value:h,onChange:e=>p(e.target.value),className:"appearance-none h-16 w-full px-4 py-2 border border-black rounded-xl focus:outline-none focus:ring focus:border-blue-500 text-lg",children:Object.keys(y).map((e=>(0,l.jsxs)("option",{value:e,children:[y[e]," "]},e)))}),(0,l.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-black",children:(0,l.jsx)(s,{})})]}),h&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-black text-xl mb-2",children:"Want to be heard as"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("label",{className:"flex items-center space-x-2 text-xl",children:[(0,l.jsx)("input",{disabled:!S,onClick:()=>j("male"),type:"radio",className:"w-6 h-6 text-blue-500 focus:ring-blue-500",name:"option",value:"male"}),(0,l.jsx)("span",{children:"He"})]}),(0,l.jsxs)("label",{className:"flex items-center space-x-2 text-xl",children:[(0,l.jsx)("input",{disabled:!E,onClick:()=>j("female"),type:"radio",className:"w-6 h-6 text-red-500 focus:ring-red-500",name:"option",value:"female"}),(0,l.jsx)("span",{children:"She"})]})]}),(0,l.jsxs)("div",{className:"text-red-500",children:[S&&!E&&"Only male voice available",E&&!S&&"Only female voice available"]})]}),(0,l.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"Room name",className:"h-16  w-full px-4 py-2 border border-black rounded-xl  focus:outline-none focus:ring focus:border-blue-500 text-lg"}),(0,l.jsx)("button",{onClick:async()=>{if(!e.trim())return alert("Please enter your name");if(!h)return alert("Please select a language");if(!x.trim())return alert("Please enter a room name");if(!N.trim())return alert("Please select a voice option");let{token:a,appId:n}=await k();a&&n||(a="",n=""),u.E.setState({meetingInfo:{...C,name:e,language:h,room:x,gender:N,appId:n,token:a}}),(0,f.yt)(x,e),console.log("[NABU] before streaming:::",(new Date).toLocaleTimeString()),V.push("/meeting")},className:"h-16 w-full py-2 text-xl bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition",children:"Join Meeting"})]})})}}},function(e){e.O(0,[668,109,971,69,744],(function(){return a=925,e(e.s=a);var a}));var a=e.O();_N_E=a}]);